<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power BI Report Page Detection</title>
    <script src="https://cdn.jsdelivr.net/npm/powerbi-client@2.13.0/dist/powerbi.js"></script>
</head>
<body>
    <div id="reportContainer" style="height: 600px; width: 1140px;"></div>
    <script>
        // Embed configuration
        var embedConfig = {
            type: 'report',
            id: '82f2fff6-88dc-4ecb-a68f-3d65d859a759',
            embedUrl: 'https://app.powerbi.com/reportEmbed?reportId=82f2fff6-88dc-4ecb-a68f-3d65d859a759&autoAuth=true&ctid=01c79161-4c7f-481e-8511-d45615e6f78d',
            accessToken: 'YOUR_ACCESS_TOKEN', // Replace with your actual access token
            tokenType: models.TokenType.Embed,
            settings: {
                filterPaneEnabled: false,
                navContentPaneEnabled: false
            }
        };

        // Get a reference to the embedded report HTML element
        var reportContainer = document.getElementById('reportContainer');

        // Embed the report and display it within the div container
        var report = powerbi.embed(reportContainer, embedConfig);

        // Get the active page
        report.on('loaded', function() {
            report.getActivePage().then(function(page) {
                console.log('Active page:', page.displayName);
                // You can use page.name or page.displayName to detect the current page
            });
        });

        // Listen for page changes
        report.on('pageChanged', function(event) {
            var newPage = event.detail.newPage;
            console.log('New active page:', newPage.displayName);
            // You can use newPage.name or newPage.displayName to detect the new page
        });
    </script>
</body>
</html>
